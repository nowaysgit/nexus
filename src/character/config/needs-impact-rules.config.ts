/**
 * Конфигурация правил влияния на потребности персонажа
 */
export interface NeedImpactRule {
  /** Регулярное выражение для поиска в тексте */
  pattern: RegExp;
  /** Влияние на потребности (ключ - тип потребности, значение - изменение) */
  impact: Record<string, number>;
  /** Описание правила */
  description: string;
}

/**
 * Базовые правила влияния на потребности при диалоге
 */
export const DIALOG_NEEDS_IMPACT_RULES: NeedImpactRule[] = [
  {
    pattern: /люблю|нравится|прекрасно|отлично|супер|класс/i,
    impact: {
      validation: -10,
      affection: -8,
    },
    description: 'Позитивные эмоции снижают потребность в валидации и привязанности',
  },
  {
    pattern: /смешно|весело|шутка|хахаха|смех|игра|развлечение/i,
    impact: {
      fun: -12,
      entertainment: -10,
    },
    description: 'Веселье и развлечения снижают соответствующие потребности',
  },
  {
    pattern: /думаю|мнение|интересно|книга|фильм|идея|тема/i,
    impact: {
      growth: -7,
    },
    description: 'Интеллектуальная беседа снижает потребность в росте',
  },
  {
    pattern: /грустно|печаль|страх|боюсь|опасно|угроза|тревога/i,
    impact: {
      security: 5,
    },
    description: 'Негативные эмоции или угрозы повышают потребность в безопасности',
  },
];

/**
 * Базовое влияние диалога на потребности (применяется всегда)
 */
export const BASE_DIALOG_IMPACT: Record<string, number> = {
  attention: -10, // Снижаем потребность во внимании, т.к. пользователь обратился к персонажу
  connection: -5, // Снижаем потребность в связи
  communication: -15, // Существенно снижаем потребность в общении
};
